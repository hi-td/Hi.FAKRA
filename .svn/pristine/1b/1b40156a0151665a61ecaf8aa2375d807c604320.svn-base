<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <!--<section name="log4net" type="System.Configuration.IgnoreSectionHandler"/>-->
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net"/>
  </configSections>
  <appSettings>
  </appSettings>

  <log4net>
    <!--普通业务日志-->
    <appender name="Common_RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
      <param name="File" value="Log\Common\log_"/>
      <param name="AppendToFile" value="true"/>
      <param name="RollingStyle" value="Date"/>
      <param name="DatePattern" value="yyyyMMdd&quot;.log&quot;"/>
      <param name="StaticLogFileName" value="false"/>
      <layout type="log4net.Layout.PatternLayout,log4net">
        <conversionPattern value="%date %-5level %message%newline"/>
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <param name="LevelMin" value="DEBUG"/>
        <param name="LevelMax" value="WARN"/>
      </filter>
    </appender>
    <!--单独记录业务日志ERROR和FATAL的错误-->
    <appender name="Error_RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
      <param name="File" value="Log\Common\err_"/>
      <param name="AppendToFile" value="true"/>
      <param name="RollingStyle" value="Date"/>
      <param name="DatePattern" value="yyyyMMdd&quot;.log&quot;"/>
      <param name="StaticLogFileName" value="false"/>
      <layout type="log4net.Layout.PatternLayout,log4net">
        <conversionPattern value="%date %-5level %message%newline"/>
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <param name="LevelMin" value="ERROR"/>
        <param name="LevelMax" value="FATAL"/>
      </filter>
    </appender>
    <!--异常日志-->
    <appender name="Exception_RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
      <param name="File" value="Log\Exception\exception_"/>
      <param name="AppendToFile" value="true"/>
      <param name="RollingStyle" value="Date"/>
      <param name="DatePattern" value="yyyyMMdd&quot;.log&quot;"/>
      <param name="StaticLogFileName" value="false"/>
      <layout type="log4net.Layout.PatternLayout,log4net">
        <!--<conversionPattern value="%date  %-5level  [%thread]  %message%newline" />-->
        <header value="&#xD;&#xA;--start--------------------&#xD;&#xA;"/>
        <!--每条日志开头的文字说明-->
        <footer value="&#xD;&#xA;--end----------------------&#xD;&#xA;"/>
        <!--每条日志末尾的文字说明-->
        <!--输出格式-->
        <!--样例：2008-03-26 13:42:32,111 [10] INFO  Log4NetDemo.MainClass [(null)] - info-->
        <conversionPattern value="%newline时间：%date %newline文件：%file %line%newline线程：[%thread] %newline级别：%-5level %newline日志：%message%newline"/>
      </layout>
    </appender>

    <!--普通日志-->
    <logger name="VSE_COMMON_LOG">
      <level value="DEBUG"/>
      <appender-ref ref="Common_RollingLogFileAppender"/>
      <appender-ref ref="Error_RollingLogFileAppender"/>
    </logger>
    <!--异常日志-->
    <logger name="VSE_EXCEPTION_LOG">
      <level value="ERROR"/>
      <appender-ref ref="Exception_RollingLogFileAppender"/>
    </logger>
  </log4net>
</configuration>